!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=2)}([function(e,t){e.exports={hex:{x:1,y:1.25,meta:{}},fans:{x:1,y:2,meta:{}},triangle:{x:1,y:1,meta:{}},square:{x:1,y:1,meta:{length:[1,1],offset:0,rotation:0,borderRadius:[0,0],offsetMod:1}},circle:{x:1,y:1,meta:{}},flower:{x:1,y:1,meta:{}},pentagon:{x:8,y:1,meta:{}},cross:{x:1.5,y:1,meta:{}},paint:{x:1,y:1,meta:{}},puzzle:{x:1,y:1,meta:{}},words:{x:1,y:1,meta:{text:"IMGSVG",font:"Ubuntu Mono"}},bricks:{x:.5,y:1,meta:{length:[2,1],offset:.5,rotation:0,borderRadius:[0,0],offsetMod:2}},tapestry:{x:.75,y:1,meta:{offset:.25,length:[1.6,1],rotation:-45,borderRadius:[7,3],offsetMod:4}},crossstitch:{x:1,y:1,meta:{}},heart:{x:1,y:1,meta:{}},hilbert:{x:1,y:1,meta:{factor:6}}}},function(e,t,n){"use strict";t.a=function(e,t,n,o){const r=n||1,a=o||1,i=document.createElement("canvas"),c=e.height/e.width;i.width=t*r,i.height=Math.floor(t*c*a);const l=i.getContext("2d");return l.drawImage(e,0,0,i.width,i.height),{data:l.getImageData(0,0,i.width,i.height).data,width:i.width,height:i.height}}},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),r=n.n(o),a=n(5),i=(n.n(a),n(6)),c=n.n(i),l=n(9),s=n(0),d=n.n(s),u=n(1),m=n(10),f=n(11);let p,[g,y,v,h,w,b,x]=["fans",12,10,1,30,"none","black"],E=document.getElementById("progress"),I=document.getElementById("svg"),S=(document.getElementById("progressCircle"),document.querySelector("#progress > svg > path")),L=S.getTotalLength();S.style.strokeDasharray="50 "+L;let B=new r.a;B.addEventListener("message",e=>{"complete"===e.data.type&&(I.innerHTML=e.data.svg,E.style.display="none",I.style.display="grid")}),E.style.display="none",Object(f.a)(document.body,e=>{p=e,Object(m.a)(B,g,p)}),document.querySelectorAll("form.newui>ul.menu>li.option").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),document.querySelectorAll("ul.menu>li.active").forEach(e=>{e.classList.remove("active")}),e.classList.add("active")})}),document.querySelectorAll("form.newui>ul.menu>li.option").forEach(e=>{e.addEventListener("click",()=>{let t=e.getAttribute("rel");[].map.call(document.querySelectorAll("ul.options"),function(e){e.classList.remove("active")});let n=document.querySelector('ul.options[rel="'+t+'"]');n&&n.classList.add("active")})}),[].map.call(document.querySelectorAll("form.newui>ul.options>li"),e=>{e.addEventListener("click",()=>{if([].map.call(document.querySelectorAll("form.newui>ul.options>li"),e=>{e.classList.remove("active")}),e.getAttribute("rel")&&(g=e.getAttribute("rel")),e.classList.add("active"),e.classList.contains("options")){let e=document.querySelector("ul[rel=shapeoptions]");e&&(e.classList.remove("active"),e.setAttribute("rel","")),document.querySelector("ul.options."+g).setAttribute("rel","shapeoptions"),document.querySelector("li[rel=shapeoptions]").classList.remove("hide")}else document.querySelector("li[rel=shapeoptions]").classList.add("hide")})}),document.getElementById("regen").addEventListener("click",e=>{e.preventDefault(),Object(m.a)(B,g,p)}),document.getElementById("download").addEventListener("click",e=>{e.preventDefault();let t=new File([document.getElementById("svg").innerHTML],"imgsvg.svg",{type:"image/svg+xml"});c.a.saveAs(t)}),document.getElementById("toggle").addEventListener("click",e=>{e.preventDefault(),document.querySelector("form.newui").classList.toggle("open")}),"undefined"!==window.location.hash&&window.location.hash&&([g,y,v,h,w,b,x]=window.location.hash.substr(1).split(",")),p=Object(l.a)();let k=Object(u.a)(p,y,d.a[g].x,d.a[g].y);setTimeout(()=>{B.postMessage({type:"create",shape:g,imgSize:k.width,cellSize:v,padding:h,aspect:k.height/k.width,variance:w,scaling:b,data:k.data,background:x,distortion:d.a[g],meta:d.a[g].meta})},1500)},function(e,t,n){e.exports=function(){return new Worker(n.p+"f9c1adafae98c94d6600.worker.js")}},function(e,t){},function(e,t,n){var o,r=r||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},n=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in n,r=/constructor/i.test(e.HTMLElement)||e.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},l=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},s=function(s,d,u){u||(s=l(s));var m,f=this,p="application/octet-stream"===s.type,g=function(){!function(e,t,n){for(var o=(t=[].concat(t)).length;o--;){var r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){i(e)}}}(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,o)return m=t().createObjectURL(s),void setTimeout(function(){var e,t;n.href=m,n.download=d,e=n,t=new MouseEvent("click"),e.dispatchEvent(t),g(),c(m),f.readyState=f.DONE});!function(){if((a||p&&r)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=a?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,f.readyState=f.DONE,g()},n.readAsDataURL(s),void(f.readyState=f.INIT)}m||(m=t().createObjectURL(s)),p?e.location.href=m:e.open(m,"_blank")||(e.location.href=m);f.readyState=f.DONE,g(),c(m)}()},d=s.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=l(e)),navigator.msSaveOrOpenBlob(e,t)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(e,t,n){return new s(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports?e.exports.saveAs=r:null!==n(7)&&null!==n(8)&&(void 0===(o=function(){return r}.call(t,n,t,e))||(e.exports=o))},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";t.a=function(e,t){const n=e||document.body.clientWidth,o=t||document.body.clientHeight,r=document.createElement("canvas"),a=o/n;r.width=128,r.height=128;const i=r.getContext("2d"),c=i.createLinearGradient(128/a,0,0,128);return c.addColorStop(0,"rgb(11, 0, 201)"),c.addColorStop(1,"rgb(238, 32, 154)"),i.fillStyle=c,i.fillRect(0,0,128,128),r}},function(e,t,n){"use strict";t.a=function(e,t,n){let o=document.getElementById("progress"),i=document.getElementById("svg");document.getElementById("progressCircle");o.style.display="grid",i.style.display="none";let c=parseInt(document.getElementById("size").value)||48,l=parseInt(document.getElementById("cellsize").value)||5,s=parseInt(document.getElementById("gap").value)||0,d=parseInt(document.getElementById("variance").value)||30,u=document.getElementById("scaling"),m=u.options[u.selectedIndex].value,f=document.getElementById("background"),p=f.options[f.selectedIndex].value,g=r.a[t].meta;if(window.location.hash=`#${t},${c},${l},${s},${d},${m},${p}`,"words"===t){let e="IMGSVG";document.getElementById("text")&&(e=document.getElementById("text").value||e);let t="Ubuntu Mono";if(document.getElementById("font")){let e=document.getElementById("font");t=e.options[e.selectedIndex].value||t}g={text:e,font:t},window.location.hash+=`,font=${t},text=${e}`}if("hilbert"===t){let e=7;document.getElementById("factor")&&(e=document.getElementById("factor").value||e),g={factor:e},window.location.hash+=`,complexity=${e}`}let y=Object(a.a)(n,c,r.a[t].x,r.a[t].y);window.Worker?(document.body.classList.add("black"),e.postMessage({type:"create",shape:t,imgSize:y.width,cellSize:l,padding:s,aspect:y.height/y.width,variance:d,scaling:m,data:y.data,background:p,distortion:r.a[t],meta:g})):document.body.innerHTML="Sorry, you need web workers."};var o=n(0),r=n.n(o),a=n(1)},function(e,t,n){"use strict";t.a=function(e,t){e.ondragenter=function(){return e.classList.add("drophover"),!1},e.ondragover=function(){return!1},e.ondragend=function(){return!1},e.ondragleave=function(t){if("dropoverlay"===t.target.id)return e.classList.remove("drophover"),!1},e.ondrop=function(n){n.preventDefault(),e.classList.remove("drophover");var o=n.dataTransfer.files[0],r=new FileReader;return r.onload=function(e){var n=document.createElement("img");n.src=e.target.result,n.addEventListener("load",t.bind(this,n))},r.readAsDataURL(o),!1}}}]);